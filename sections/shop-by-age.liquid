<section class="shop-by-age">
  <div class="page-width">
    <p class="age-eyebrow">{{ section.settings.eyebrow }}</p>
    <h2 class="age-title">{{ section.settings.heading }}</h2>

    <div class="age-tabs">
      {% for block in section.blocks %}
        {% if block.type == 'tab' %}
          <button class="age-tab">{{ block.settings.label }}</button>
        {% endif %}
      {% endfor %}
    </div>

    <div class="age-grid">
      {% for block in section.blocks %}
        {% if block.type == 'card' %}
          <a href="{{ block.settings.link }}" class="age-card">
            <img src="{{ block.settings.image | image_url: width: 600 }}" width="600" height="auto" alt="">
            <span>{{ block.settings.title }}</span>
          </a>
        {% endif %}
      {% endfor %}
    </div>

    <div class="age-cta">
      <a class="button" href="{{ section.settings.cta_link }}">{{ section.settings.cta_text }}</a>
    </div>
  </div>
</section>

<style>
  .shop-by-age {
    padding: 60px 0;
  }
  .age-eyebrow {
    font-family: cursive;
    color: #7aa6c2;
    text-align: center;
  }
  .age-title {
    text-align: center;
    margin-bottom: 30px;
  }
  .age-tabs {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
  }
  .age-tab {
    background: none;
    border: none;
    font-weight: 600;
    cursor: pointer;
  }
  .age-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
  }
  .age-card {
    position: relative;
    display: block;
    overflow: hidden;
  }
  .age-card img {
    width: 100%;
    height: auto;
  }
  .age-card span {
    position: absolute;
    bottom: 15px;
    left: 15px;
    color: #fff;
    font-weight: 600;
  }
  .age-cta {
    text-align: center;
    margin-top: 40px;
  }
</style>

{% schema %}
{
  "name": "Shop by Age",
  "settings": [
    { "type": "text", "id": "eyebrow", "label": "Top text", "default": "shop" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "BY AGE" },
    { "type": "text", "id": "cta_text", "label": "Button text", "default": "Shop All 3â€‘5 Years" },
    { "type": "url", "id": "cta_link", "label": "Button link" }
  ],
  "blocks": [
    {
      "type": "tab",
      "name": "Age Tab",
      "settings": [{ "type": "text", "id": "label", "label": "Tab label" }]
    },
    {
      "type": "card",
      "name": "Category Card",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "title", "label": "Title" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [{ "name": "Shop by Age" }]
}
{% endschema %}
